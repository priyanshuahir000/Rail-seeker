<%- include("partials/header.ejs") %>
    <div class="main-box">
        <div class="main">
            <div class="wrapper">
                <div class="content">

                    <h1>Enter Train Number</h1>

                    <form action="/search" method="post" class="">
                        <input class="trainNumber" type="text" name="trainNumber"
                            placeholder="Enter 5 digit train number" id="tn" required>
                        <button type="submit" id="search" class="button">Search</button>
                    </form>
                    <div class="">
                        <% if(locals.content) { %>
                            <h3>Access accurate train details effortlessly.</h3>
                            <p>
                                <%= content %>
                            </p>
                            <% } else if(locals.trainInfo) { %>
                                <h3>Train Information</h3>
                                <table>
                                    <tr>
                                        <td><strong>Train Number:</strong></td>
                                        <td>
                                            <%= trainInfo.trainNumber %>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><strong>Train Name:</strong></td>
                                        <td>
                                            <%= trainInfo.trainName %>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><strong>Train Full Name:</strong></td>
                                        <td>
                                            <%= trainInfo.trainFullName %>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><strong>Departure Time:</strong></td>
                                        <td>
                                            <%= trainInfo.departureTime %>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><strong>Arrival Time:</strong></td>
                                        <td>
                                            <%= trainInfo.arrivalTime %>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><strong>Duration:</strong></td>
                                        <td>
                                            <%= trainInfo.duration %>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><strong>Runs on:</strong></td>
                                        <td>
                                            <% Object.keys(trainInfo.trainRunsOn).forEach(day=> { %>
                                                <% if(trainInfo.trainRunsOn[day]) { %>
                                                    <%= day.charAt(0).toUpperCase() + day.slice(1) %>
                                                        <% } %>
                                                            <% }) %>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><strong>Number of Stops:</strong></td>
                                        <td>
                                            <%= trainInfo.numberOfStops %>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><strong>Train Type Code:</strong></td>
                                        <td>
                                            <%= trainInfo.trainTypeCode %>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><strong>Distance:</strong></td>
                                        <td>
                                            <%= trainInfo.distance %> km
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><strong>Available Classes:</strong></td>
                                        <td>
                                            <%= trainInfo.availableClasses.join(', ') %></td>
                                </tr>
                                <tr>
                                    <td><strong>Average Speed:</strong></td>
                                    <td><%= trainInfo.avgSpeed %> km/h</td>
                                </tr>
                                <tr>
                                    <td><strong>Has Pantry:</strong></td>
                                    <td><%= trainInfo.hasPantry ? ' Yes' : 'No' %>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><strong>Return Train Number:</strong></td>
                                        <td>
                                            <%= trainInfo.returnTrainNumber %>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><strong>Last Updated:</strong></td>
                                        <td>
                                            <%= trainInfo.updatedAt %>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><strong>Station From:</strong></td>
                                        <td>
                                            <%= trainInfo.stationFrom.stationName %> (<%=
                                                    trainInfo.stationFrom.stationCode %>)
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><strong>Station To:</strong></td>
                                        <td>
                                            <%= trainInfo.stationTo.stationName %> (<%= trainInfo.stationTo.stationCode
                                                    %>)
                                        </td>
                                    </tr>
                                </table>
                                <% } else { %>
                                    <p>No train information available.</p>
                                    <% } %>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <%- include("partials/footer.ejs" ) %>